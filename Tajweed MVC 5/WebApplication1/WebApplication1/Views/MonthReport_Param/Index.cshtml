
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/Dashboard.cshtml";
}
<div class="main-content">
    <div class="section__content section__content--p30">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <!-- DATA TABLE -->
                    <h3 class="title-5 m-b-35">Monthly Student Report</h3>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="text-right">
                                <div class="col-md-3" style="float:right;">
                                    <a id="save" href="#" class="btn btn-lg btn-info btn-block">
                                        <i class="fas fa-file-alt"></i>&nbsp;
                                        <span>Run</span>
                                    </a>
                                </div>
                            </div>

                        </div>
                    </div>


                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group From_Date">
                                <label for="From_Date" class="form-control-label">From Date:</label>
                                <input type="date" id="From_Date" name="From_Date" placeholder="From Date" class="input-sm form-control-sm form-control">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group To_Date">
                                <label for="To_Date" class="form-control-label">To Date:</label>
                                <input type="date" id="To_Date" name="To_Date" placeholder="Zoom" class="input-sm form-control-sm form-control">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group Courses">
                                <label for="Batch_Name" class="form-control-label">Courses:</label>
                                <select class="form-control" id="Courses">
                                    <option value="0">-Courses-</option>
                                    @foreach (var std in ViewBag.bthdropdown as List<WebApplication1.Models.Batch_header>)
                                    {
                                        <option value="@std.Bh_id">@std.Batch_Name</option>
                                    }
                                </select>
                                <span class="error"><i class="fas fa-exclamation-circle"></i>&nbsp; Enter a Batch Name</span>
                            </div>
                        </div>



                    </div>

                    <!-- END DATA TABLE -->
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    span.error {
        display: none;
        color: #d93025;
        font-size: 80%;
        margin-top: 3px;
    }

    .message {
        display: none;
        position: fixed;
        z-index: 1;
        left: 40%;
    }
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {

        $('#Courses').val(0);
        $('#Students').val(0);

        $('#save').click(function () {
            var isAllValid = true;

            if ($('#Courses option:selected').val() == 0) {
                isAllValid = false;
                $('.Courses .error').css('display', 'block');
            }
            else {
                $('.Courses .error').css('display', 'none');
            }
            if(isAllValid)
            {
                var From_Date = $('#From_Date').val();
                var To_Date = $('#To_Date').val();
                var Courses = $('#Courses').val();
                var Courses_Nm = $('#Courses option:selected').text();

                window.open('/MonthReport_Report/Index?from_date=' + From_Date + '&to_date=' + To_Date + '&bh_id=' + Courses + '&Courses_Nm=' + Courses_Nm + '', '_blank')
            }
        })
    });
</script>


